<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analytics — Patina</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=Inter:wght@300;400;500;600;700&family=Noto+Serif:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="design-system.css">
<style>
.charts-row { display: grid; grid-template-columns: 1fr 280px; gap: 20px; margin-bottom: 24px; }
.filter-toolbar { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; margin-bottom: 24px; }
@media (max-width: 860px) {
  .charts-row { grid-template-columns: 1fr; }
  .main-header-row { flex-wrap: wrap; gap: 12px; }
  .main-header-row > div:last-child { flex-wrap: wrap; }
  .data-table th:nth-child(5), .data-table td:nth-child(5),
  .data-table th:nth-child(6), .data-table td:nth-child(6) { display: none; }
}
@media (max-width: 480px) {
  .main-header-row > div:last-child { width: 100%; }
  .seg-group { width: 100%; }
  .seg-btn { flex: 1; }
  .data-table th:nth-child(3), .data-table td:nth-child(3),
  .data-table th:nth-child(4), .data-table td:nth-child(4) { display: none; }
}
</style>
</head>
<body>
<div class="bg-grain"></div>
<div class="bg-shape bg-shape-1"></div>
<div class="bg-shape bg-shape-2"></div>
<div class="layout">
  <nav class="sidebar" id="sidebar"></nav>
  <main class="main">
    <div class="main-header-row">
      <div>
        <div class="breadcrumbs">
          <div class="breadcrumb-item"><a href="dashboard.html">Home</a></div>
          <div class="breadcrumb-item">Analytics</div>
        </div>
        <h1 class="main-title mt-8">Analytics</h1>
        <p class="main-subtitle">Track performance metrics and growth trends.</p>
      </div>
      <div style="display:flex;gap:10px;align-items:center;">
        <div class="seg-group" id="time-seg">
          <button class="seg-btn" onclick="setSeg(this,'time-seg')">Day</button>
          <button class="seg-btn active" onclick="setSeg(this,'time-seg')">Week</button>
          <button class="seg-btn" onclick="setSeg(this,'time-seg')">Month</button>
          <button class="seg-btn" onclick="setSeg(this,'time-seg')">Year</button>
        </div>
        <button class="btn btn-secondary btn-sm">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
          Feb 2026
        </button>
        <button class="btn btn-primary btn-sm">Export</button>
      </div>
    </div>

    <!-- Stats row -->
    <div class="stats-row mb-24">
      <div class="card stat-card">
        <div class="stat-label">Total Revenue</div>
        <div class="stat-value">$84,210</div>
        <span class="stat-change up">↑ 12.4%</span>
      </div>
      <div class="card stat-card">
        <div class="stat-label">Active Users</div>
        <div class="stat-value">9,342</div>
        <span class="stat-change up">↑ 8.1%</span>
      </div>
      <div class="card stat-card">
        <div class="stat-label">Conversions</div>
        <div class="stat-value">3.72%</div>
        <span class="stat-change down">↓ 0.3%</span>
      </div>
      <div class="card stat-card">
        <div class="stat-label">Avg Session</div>
        <div class="stat-value">4m 38s</div>
        <span class="stat-change up">↑ 22s</span>
      </div>
    </div>

    <!-- Charts -->
    <div class="charts-row">
      <div class="card" style="padding:24px;">
        <div class="card-header">
          <div class="card-title">Weekly Revenue</div>
          <div style="display:flex;gap:8px;">
            <span class="badge badge-accent">Revenue</span>
            <span class="badge badge-neutral">Target</span>
          </div>
        </div>
        <div class="chart-container">
          <canvas id="revenue-chart"></canvas>
        </div>
      </div>
      <div class="card" style="padding:24px;">
        <div class="card-header" style="width:100%;">
          <div class="card-title">Traffic Sources</div>
        </div>
        <div class="chart-container-square">
          <canvas id="traffic-chart"></canvas>
        </div>
      </div>
    </div>

    <!-- Filter chips -->
    <div class="filter-toolbar">
      <span class="t-label t-muted">Filter:</span>
      <div class="chip-bar">
        <span class="chip chip-filter active" onclick="toggleChip(this)">All Metrics</span>
        <span class="chip chip-filter" onclick="toggleChip(this)">Revenue</span>
        <span class="chip chip-filter" onclick="toggleChip(this)">Users</span>
        <span class="chip chip-filter" onclick="toggleChip(this)">Sessions</span>
        <span class="chip chip-filter" onclick="toggleChip(this)">Conversions</span>
        <span class="chip chip-filter" onclick="toggleChip(this)">Bounce Rate</span>
      </div>
    </div>

    <!-- Data table -->
    <div class="card card--flat">
      <div class="card-header">
        <div class="card-title">Top Pages</div>
        <span class="card-action">View all</span>
      </div>
      <div class="table-wrapper">
        <table class="data-table">
          <thead>
            <tr>
              <th>Page</th>
              <th>Views</th>
              <th>Unique</th>
              <th>Avg Time</th>
              <th>Bounce</th>
              <th>Trend</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="cell-primary">/dashboard</td>
              <td class="cell-mono">24,182</td>
              <td class="cell-mono">18,447</td>
              <td class="cell-mono">5m 12s</td>
              <td><span class="badge badge-success">22%</span></td>
              <td><span class="stat-change up">↑ 8%</span></td>
            </tr>
            <tr>
              <td class="cell-primary">/pricing</td>
              <td class="cell-mono">12,891</td>
              <td class="cell-mono">11,220</td>
              <td class="cell-mono">3m 44s</td>
              <td><span class="badge badge-warning">41%</span></td>
              <td><span class="stat-change up">↑ 3%</span></td>
            </tr>
            <tr>
              <td class="cell-primary">/blog/launch</td>
              <td class="cell-mono">9,304</td>
              <td class="cell-mono">9,100</td>
              <td class="cell-mono">6m 08s</td>
              <td><span class="badge badge-success">18%</span></td>
              <td><span class="stat-change up">↑ 41%</span></td>
            </tr>
            <tr>
              <td class="cell-primary">/docs/api</td>
              <td class="cell-mono">7,658</td>
              <td class="cell-mono">6,040</td>
              <td class="cell-mono">8m 22s</td>
              <td><span class="badge badge-success">12%</span></td>
              <td><span class="stat-change down">↓ 2%</span></td>
            </tr>
            <tr>
              <td class="cell-primary">/signup</td>
              <td class="cell-mono">5,471</td>
              <td class="cell-mono">5,349</td>
              <td class="cell-mono">1m 58s</td>
              <td><span class="badge badge-accent">56%</span></td>
              <td><span class="stat-change up">↑ 19%</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </main>
</div>
<script src="sidebar.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
<script src="patina-charts.js"></script>
<script>
function setSeg(btn, groupId) {
  document.querySelectorAll('#' + groupId + ' .seg-btn').forEach(function(b) { b.classList.remove('active'); });
  btn.classList.add('active');
}
function toggleChip(chip) {
  chip.classList.toggle('active');
}

// Revenue bar chart
patinaChart('revenue-chart', 'bar', {
  labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
  datasets: [{
    label: 'Revenue',
    data: [8400, 11200, 9800, 14300, 16100, 7200, 5600],
    backgroundColor: function() {
      var colors = patinaChartColors(7);
      // Highlight Friday (highest) with chart-7
      var cs = getComputedStyle(document.documentElement);
      var highlight = cs.getPropertyValue('--chart-7').trim();
      var base = cs.getPropertyValue('--chart-1').trim();
      return [base, base, base, base, highlight, base, base];
    }()
  }],
  options: {
    plugins: { legend: { display: false } }
  }
});

// Traffic doughnut chart
patinaChart('traffic-chart', 'doughnut', {
  labels: ['Organic', 'Direct', 'Referral', 'Paid'],
  datasets: [{ data: [42, 25, 15, 18] }]
});
</script>
<script src="inspector.js"></script>
</body>
</html>
