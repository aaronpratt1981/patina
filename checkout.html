<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout — Patina</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=Inter:wght@300;400;500;600;700&family=Noto+Serif:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="design-system.css">
<style>
  body { background: var(--bg); }
  .store-nav { position: sticky; top: 0; z-index: 200; background: var(--white); border-bottom: 1px solid var(--border); padding: 0 32px; height: 56px; display: flex; align-items: center; justify-content: space-between; }
  .store-nav-brand { font-family: var(--font-display); font-size: 1.15rem; font-weight: 600; display: flex; align-items: center; gap: 8px; color: var(--text); text-decoration: none; }
  .store-nav-brand .logo-dot { width: 10px; height: 10px; background: var(--accent); border-radius: 50%; }
  .store-nav-links { display: flex; align-items: center; gap: 20px; }
  .store-nav-links a { font-size: 0.85rem; color: var(--text-secondary); text-decoration: none; font-weight: 500; transition: color 0.15s; }
  .store-nav-links a:hover { color: var(--text); }
  .store-nav-lock { display: flex; align-items: center; gap: 6px; font-size: 0.78rem; color: var(--text-dim); }
  .store-content { max-width: 980px; margin: 0 auto; padding: 32px 32px 64px; }

  .checkout-layout { display: grid; grid-template-columns: 1fr 340px; gap: 36px; align-items: start; }
  .checkout-main { display: flex; flex-direction: column; gap: 20px; }

  .steps-center { display: flex; justify-content: center; margin-bottom: 36px; }

  .page-section { display: none; animation: pageFade 0.3s ease; }
  .page-section.active { display: block; }
  @keyframes pageFade { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

  .page-header { margin-bottom: 28px; }
  .page-title { font-family: var(--font-display); font-size: 1.8rem; font-weight: 400; letter-spacing: -0.03em; margin-bottom: 6px; }
  .page-subtitle { font-size: 0.9rem; color: var(--text-secondary); font-weight: 300; }

  .order-sidebar { position: sticky; top: 80px; }

  .order-line { display: flex; justify-content: space-between; align-items: baseline; padding: 8px 0; border-bottom: 1px solid var(--border); }
  .order-line:last-of-type { border-bottom: none; }
  .order-label { font-size: 0.88rem; color: var(--text-secondary); }
  .order-amount { font-family: var(--font-mono); font-size: 0.85rem; font-weight: 500; }
  .order-total-row { display: flex; justify-content: space-between; align-items: baseline; padding-top: 14px; border-top: 1.5px solid var(--border); margin-top: 4px; }
  .order-total-label { font-size: 0.9rem; font-weight: 600; }
  .order-total-amount { font-family: var(--font-mono); font-size: 1.2rem; font-weight: 500; }

  .qty-badge { display: inline-flex; align-items: center; justify-content: center; width: 22px; height: 22px; border-radius: var(--radius-full); background: var(--bg-warm); font-size: 0.72rem; font-weight: 600; color: var(--text-secondary); flex-shrink: 0; }

  .nav-actions { display: flex; gap: 10px; margin-top: 8px; flex-wrap: wrap; }

  .success-view { text-align: center; padding: 48px 20px; }
  .success-badge { width: 72px; height: 72px; border-radius: 50%; background: var(--success-bg); display: flex; align-items: center; justify-content: center; margin: 0 auto 24px; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
  @keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }
  .success-badge svg { width: 32px; height: 32px; color: var(--success); }
  .success-summary { display: flex; flex-direction: column; gap: 8px; background: var(--bg-warm); border-radius: var(--radius); padding: 20px 24px; max-width: 380px; margin: 0 auto 28px; text-align: left; }
  .success-row { display: flex; justify-content: space-between; font-size: 0.88rem; }
  .success-row span:first-child { color: var(--text-muted); }
  .success-row span:last-child { font-weight: 600; }

  .security-note { display: flex; align-items: center; justify-content: center; gap: 6px; font-size: 0.75rem; color: var(--text-dim); margin-top: 14px; }

  .card-frame { background: var(--bg); border: 1.5px solid var(--border); border-radius: var(--radius-sm); overflow: hidden; transition: all 0.2s; }
  .card-frame:focus-within { border-color: var(--accent); box-shadow: var(--shadow-focus); background: var(--white); }
  .card-frame .cf-top { display: flex; align-items: center; padding: 0 14px; gap: 10px; }
  .card-brands { display: flex; gap: 4px; flex-shrink: 0; }
  .card-brands span { font-size: 0.6rem; font-weight: 700; padding: 2px 6px; background: var(--border); border-radius: 3px; color: var(--text-muted); }
  .card-frame input { width: 100%; padding: 12px 0; background: transparent; border: none; color: var(--text); font-family: var(--font-mono); font-size: 0.9rem; outline: none; }
  .card-frame input::placeholder { color: var(--text-dim); }
  .card-frame .cf-bottom { display: grid; grid-template-columns: 1fr 1fr; border-top: 1px solid var(--border); }
  .card-frame .cf-bottom input { padding: 12px 14px; }
  .card-frame .cf-bottom input:first-child { border-right: 1px solid var(--border); }

  @media (max-width: 860px) {
    .store-nav { padding: 0 16px; }
    .store-nav-links { display: none; }
    .store-content { padding: 20px 16px 48px; }
    .checkout-layout { grid-template-columns: 1fr; }
    .order-sidebar { position: static; }
    .steps-center .steps { overflow-x: auto; }
  }
</style>
<script>document.fonts.ready.then(()=>document.documentElement.classList.add('fonts-ready'));</script>
</head>
<body>
<div class="bg-grain"></div>
<div class="bg-shape bg-shape-1"></div>
<div class="bg-shape bg-shape-2"></div>

<nav class="store-nav">
  <a href="index.html" class="store-nav-brand">
    <span class="logo-dot"></span>
    Patina Store
  </a>
  <div class="store-nav-links">
    <a href="ecommerce-category.html">Shop</a>
    <a href="ecommerce-product.html">New Arrivals</a>
  </div>
  <div class="store-nav-lock">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
    Secure checkout
  </div>
</nav>

<div class="store-content">

  <nav class="breadcrumbs mb-16">
    <span class="breadcrumb-item"><a href="ecommerce-category.html">Shop</a></span>
    <span class="breadcrumb-item">Checkout</span>
  </nav>

  <div class="steps-center">
    <div class="steps" id="stepIndicator">
      <div class="step step-active" id="si-1">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>
        Cart
      </div>
      <div class="step" id="si-2">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        Shipping
      </div>
      <div class="step" id="si-3">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><rect x="1" y="4" width="22" height="16" rx="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>
        Payment
      </div>
      <div class="step" id="si-4">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><polyline points="20 6 9 17 4 12"/></svg>
        Confirmation
      </div>
    </div>
  </div>

  <!-- STEP 1: Cart -->
  <div class="page-section active" id="step1">
    <div class="page-header"><h1 class="page-title">Your cart</h1><p class="page-subtitle">Review your items before checkout.</p></div>
    <div class="checkout-layout">
      <div class="checkout-main">
        <div class="card">
          <div class="card-header"><div class="card-title">Items (4)</div><span class="badge badge-accent">Free shipping over $75</span></div>
          <div class="list">
            <div class="list-item">
              <div class="icon-box" style="background:var(--accent-bg);"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round"><path d="M18 20V10"/><path d="M12 20V4"/><path d="M6 20v-6"/></svg></div>
              <div class="list-item-text"><strong>Analytics Pro License</strong><span>Annual subscription</span></div>
              <span class="qty-badge">1</span>
              <span class="t-mono t-small" style="font-weight:600;white-space:nowrap;">$228.00</span>
            </div>
            <div class="list-item">
              <div class="icon-box" style="background:var(--highlight-bg);"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--highlight)" stroke-width="2" stroke-linecap="round"><path d="M12 19l7-7 3 3-7 7-3-3z"/><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/></svg></div>
              <div class="list-item-text"><strong>Design Studio Add-on</strong><span>Monthly · Team collaboration</span></div>
              <span class="qty-badge">2</span>
              <span class="t-mono t-small" style="font-weight:600;white-space:nowrap;">$98.00</span>
            </div>
            <div class="list-item">
              <div class="icon-box" style="background:var(--info-bg);"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--info)" stroke-width="2" stroke-linecap="round"><rect x="4" y="2" width="16" height="20" rx="2"/><path d="M9 22V12h6v10"/></svg></div>
              <div class="list-item-text"><strong>Enterprise SSO Module</strong><span>One-time · SAML &amp; OIDC</span></div>
              <span class="qty-badge">1</span>
              <span class="t-mono t-small" style="font-weight:600;white-space:nowrap;">$349.00</span>
            </div>
            <div class="list-item">
              <div class="icon-box" style="background:var(--accent2-bg);"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent2)" stroke-width="2" stroke-linecap="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg></div>
              <div class="list-item-text"><strong>Priority Support Plan</strong><span>Annual · 4-hour response SLA</span></div>
              <span class="qty-badge">1</span>
              <span class="t-mono t-small" style="font-weight:600;white-space:nowrap;">$120.00</span>
            </div>
          </div>
          <div class="card-footer"><div class="checkbox-row"><input type="checkbox" id="giftWrap"><label class="checkbox-label" for="giftWrap">Add gift wrapping (+$5.00)</label></div></div>
        </div>
        <div class="nav-actions">
          <button class="btn btn-primary" onclick="goToStep(2)"><span class="btn-label">Continue to Shipping</span><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg></button>
        </div>
      </div>
      <div class="order-sidebar">
        <div class="card">
          <div class="card-header"><div class="card-title">Order summary</div></div>
          <div class="order-line"><span class="order-label">Subtotal</span><span class="order-amount">$795.00</span></div>
          <div class="order-line"><span class="order-label">Discount (WELCOME10)</span><span class="order-amount" style="color:var(--success);">−$79.50</span></div>
          <div class="order-line"><span class="order-label">Tax (8.5%)</span><span class="order-amount">$60.87</span></div>
          <div class="order-line"><span class="order-label">Shipping</span><span class="order-amount" style="color:var(--success);">Free</span></div>
          <div class="order-total-row"><span class="order-total-label">Total due</span><span class="order-total-amount">$776.37</span></div>
          <div class="mt-16"><div class="field"><label class="field-label">Promo code</label><div style="display:flex;gap:8px;"><input type="text" class="field-input" placeholder="Enter code" value="WELCOME10"><button class="btn btn-secondary btn-sm" style="flex-shrink:0;">Apply</button></div></div></div>
        </div>
      </div>
    </div>
  </div>

  <!-- STEP 2: Shipping -->
  <div class="page-section" id="step2">
    <div class="page-header"><h1 class="page-title">Shipping details</h1><p class="page-subtitle">Where should we send your order?</p></div>
    <div class="checkout-layout">
      <div class="checkout-main">
        <div class="card">
          <div class="card-header"><div class="card-title">Delivery address</div></div>
          <div class="field"><label class="field-label">Full name</label><input type="text" class="field-input" placeholder="Jane Doe"></div>
          <div class="field"><label class="field-label">Address line 1</label><input type="text" class="field-input" placeholder="123 Main Street"></div>
          <div class="field"><label class="field-label">Address line 2</label><input type="text" class="field-input" placeholder="Apt, suite, unit (optional)"></div>
          <div class="field-row"><div class="field"><label class="field-label">City</label><input type="text" class="field-input" placeholder="New York"></div><div class="field"><label class="field-label">State</label><select class="field-input"><option>New York</option><option>California</option><option>Texas</option><option>Florida</option></select></div></div>
          <div class="field-row"><div class="field"><label class="field-label">ZIP code</label><input type="text" class="field-input" placeholder="10001"></div><div class="field"><label class="field-label">Country</label><select class="field-input"><option>United States</option><option>Canada</option><option>United Kingdom</option></select></div></div>
          <div class="card-footer"><div class="checkbox-row"><input type="checkbox" id="saveAddr" checked><label class="checkbox-label" for="saveAddr">Save this address for future orders</label></div></div>
        </div>
        <div class="nav-actions">
          <button class="btn btn-secondary" onclick="goToStep(1)">← Back</button>
          <button class="btn btn-primary" onclick="goToStep(3)"><span class="btn-label">Continue to Payment</span><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg></button>
        </div>
      </div>
      <div class="order-sidebar">
        <div class="card">
          <div class="card-header"><div class="card-title">Order summary</div></div>
          <div class="order-line"><span class="order-label">4 items</span><span class="order-amount">$795.00</span></div>
          <div class="order-line"><span class="order-label">Discount</span><span class="order-amount" style="color:var(--success);">−$79.50</span></div>
          <div class="order-line"><span class="order-label">Tax</span><span class="order-amount">$60.87</span></div>
          <div class="order-line"><span class="order-label">Shipping</span><span class="order-amount" style="color:var(--success);">Free</span></div>
          <div class="order-total-row"><span class="order-total-label">Total due</span><span class="order-total-amount">$776.37</span></div>
        </div>
      </div>
    </div>
  </div>

  <!-- STEP 3: Payment -->
  <div class="page-section" id="step3">
    <div class="page-header"><h1 class="page-title">Payment</h1><p class="page-subtitle">Your payment info is encrypted and secure.</p></div>
    <div class="checkout-layout">
      <div class="checkout-main">
        <div class="card">
          <div class="card-header"><div class="card-title">Card details</div><div style="display:flex;gap:4px;"><span class="badge badge-neutral">VISA</span><span class="badge badge-neutral">MC</span><span class="badge badge-neutral">AMEX</span></div></div>
          <div class="field"><label class="field-label">Name on card</label><input type="text" class="field-input" placeholder="Jane Doe"></div>
          <div class="field"><label class="field-label">Card number</label><div class="card-frame"><div class="cf-top"><div class="card-brands"><span>VISA</span><span>MC</span><span>AMEX</span></div><input type="text" placeholder="1234 5678 9012 3456" maxlength="19" oninput="fmtCard(this)"></div><div class="cf-bottom"><input type="text" placeholder="MM / YY" maxlength="7" oninput="fmtExp(this)"><input type="text" placeholder="CVC" maxlength="4"></div></div></div>
          <div class="field-row"><div class="field"><label class="field-label">Billing ZIP</label><input type="text" class="field-input" placeholder="10001"></div><div class="field"><label class="field-label">Country</label><select class="field-input"><option>United States</option><option>Canada</option><option>United Kingdom</option></select></div></div>
          <div class="card-footer"><div class="checkbox-row"><input type="checkbox" id="agreeTerms" checked><label class="checkbox-label" for="agreeTerms">I agree to the <a href="#" style="color:var(--accent);font-weight:500;">Terms of Service</a> and <a href="#" style="color:var(--accent);font-weight:500;">Privacy Policy</a></label></div></div>
        </div>
        <div class="nav-actions">
          <button class="btn btn-secondary" onclick="goToStep(2)">← Back</button>
          <button class="btn btn-primary" id="payBtn" onclick="handlePay()"><span class="btn-label">Place order · $776.37</span><div class="spinner"></div></button>
        </div>
        <div class="security-note">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
          256-bit SSL encryption. You won't be charged until you confirm.
        </div>
      </div>
      <div class="order-sidebar">
        <div class="card">
          <div class="card-header"><div class="card-title">Order summary</div></div>
          <div class="order-line"><span class="order-label">4 items</span><span class="order-amount">$795.00</span></div>
          <div class="order-line"><span class="order-label">Discount</span><span class="order-amount" style="color:var(--success);">−$79.50</span></div>
          <div class="order-line"><span class="order-label">Tax</span><span class="order-amount">$60.87</span></div>
          <div class="order-line"><span class="order-label">Shipping</span><span class="order-amount" style="color:var(--success);">Free</span></div>
          <div class="order-total-row"><span class="order-total-label">Total due</span><span class="order-total-amount">$776.37</span></div>
        </div>
      </div>
    </div>
  </div>

  <!-- STEP 4: Confirmation -->
  <div class="page-section" id="step4">
    <div class="success-view">
      <div class="success-badge"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><polyline points="20 6 9 17 4 12"/></svg></div>
      <h1 style="font-family:var(--font-display);font-size:2rem;font-weight:400;margin-bottom:8px;letter-spacing:-0.03em;">Order confirmed!</h1>
      <p style="color:var(--text-secondary);font-weight:300;max-width:420px;margin:0 auto 28px;line-height:1.6;font-size:0.95rem;">Thank you for your order. A confirmation email has been sent to <strong>jane@company.com</strong>.</p>
      <div class="success-summary">
        <div class="success-row"><span>Order number</span><span>#PAT-20260227-4891</span></div>
        <div class="success-row"><span>Items</span><span>4 items</span></div>
        <div class="success-row"><span>Total charged</span><span>$776.37</span></div>
        <div class="success-row"><span>Estimated delivery</span><span>Mar 4 – Mar 7</span></div>
      </div>
      <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;">
        <button class="btn btn-primary" onclick="window.location.href='ecommerce-category.html'"><span class="btn-label">Continue Shopping</span><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg></button>
        <button class="btn btn-secondary">View order details</button>
      </div>
    </div>
  </div>

</div>

<script>
function goToStep(s) {
  document.querySelectorAll('.page-section').forEach(x => x.classList.remove('active'));
  document.getElementById('step' + s).classList.add('active');
  const labels = ['si-1','si-2','si-3','si-4'];
  labels.forEach((id, i) => {
    const el = document.getElementById(id);
    el.classList.remove('step-active','step-complete');
    if (i + 1 === s) el.classList.add('step-active');
    else if (i + 1 < s) el.classList.add('step-complete');
  });
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
function handlePay() {
  const b = document.getElementById('payBtn');
  b.classList.add('loading'); b.disabled = true;
  setTimeout(() => { b.classList.remove('loading'); b.disabled = false; goToStep(4); }, 1800);
}
function fmtCard(i) { let v = i.value.replace(/\D/g,'').substring(0,16); i.value = v.replace(/(.{4})/g,'$1 ').trim(); }
function fmtExp(i) { let v = i.value.replace(/\D/g,'').substring(0,4); if (v.length >= 2) v = v.substring(0,2) + ' / ' + v.substring(2); i.value = v; }
</script>
<script src="inspector.js"></script>
</body>
</html>
